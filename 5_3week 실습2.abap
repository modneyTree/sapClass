REPORT ZEDR00_PRACTICE002.

"1 구조체 선언
DATA : BEGIN OF GS_ZEDT001. "001테이블 구조체를 중심으로 LOOP를 돈다.
  INCLUDE TYPE ZEDT00_001.
DATA : ZMAJOR_MEMO(8).  "전과 사항 메모
DATA : ZGRADE_MEMO(8).  "학사 경고 메모
DATA : END OF GS_ZEDT001.

DATA : BEGIN OF GS_ZEDT002. "001테이블 구조체를 중심으로 LOOP를 돈다.
  INCLUDE TYPE ZEDT00_002.
DATA : END OF GS_ZEDT002.

DATA : BEGIN OF GS_ZEDT003. "001테이블 구조체를 중심으로 LOOP를 돈다.
  INCLUDE TYPE ZEDT00_003.
DATA : END OF GS_ZEDT003.


"변수 선언
"여학생 등록금 총합
"남학생 등록금 총합

"인터널 테이블 선언(3개)
DATA : GT_ZEDT001 LIKE TABLE OF GS_ZEDT001.
DATA : GT_ZEDT002 LIKE TABLE OF GS_ZEDT002.
DATA : GT_ZEDT003 LIKE TABLE OF GS_ZEDT003.


"2 데이터 가져오기
SELECT * FROM ZEDT00_001
INTO CORRESPONDING FIELDS OF TABLE GT_ZEDT001.

SELECT * FROM ZEDT00_002
INTO CORRESPONDING FIELDS OF TABLE GT_ZEDT002.

SELECT * FROM ZEDT00_003
INTO CORRESPONDING FIELDS OF TABLE GT_ZEDT003.

SORT GT_ZEDT001 BY ZCODE ASCENDING.
SORT GT_ZEDT002 BY ZCODE ASCENDING.
SORT GT_ZEDT003 BY ZCODE ASCENDING ZGRADE DESCENDING.

"3 MODIFY
LOOP AT GT_ZEDT001 INTO GS_ZEDT001.
    MOVE-CORRESPONDING GS_ZEDT001 TO GS_ZEDT002.
    MOVE-CORRESPONDING GS_ZEDT001 TO GS_ZEDT003.

    "READ 테이블2(입학정보)을 한다
    READ TABLE GT_ZEDT002 WITH KEY ZCODE = GS_ZEDT001-ZCODE 
    INTO GS_ZEDT002.



    "READ 테이블3(성적정보) 을 한다.
    READ TABLE GT_ZEDT003 WITH KEY ZCODE = GS_ZEDT001-ZCODE
    INTO GS_ZEDT003.

    IF GS_ZEDT003-ZMNAME = GS_ZEDT001-ZMNAME.
    ELSE.
        GS_ZEDT001-ZMAJOR_MEMO = "".
    ENDIF.

ENDLOOP.



"4 WIRTE DATA


BREAK-POINT.

